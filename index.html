<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SkiLabs Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #6366f1; --accent: #0ea5e9; --gold: #f59e0b; --bg: #f8fafc; --panel: #ffffff; --border: #e2e8f0; --text: #1e293b; --subtext: #64748b; }
        .gold-theme { --primary: #b45309; --accent: #f59e0b; --bg: #fffcf0; --panel: #ffffff; --border: #fde68a; --text: #451a03; }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Space Grotesk', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Sidebar Design */
        #sidebar { width: 280px; background: white; border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 25px; flex-shrink: 0; z-index: 2000; position: relative; }
        .nav-btn { padding: 15px; margin-bottom: 8px; border-radius: 12px; cursor: pointer; color: var(--subtext); border: none; background: none; text-align: left; width: 100%; font-size: 1rem; font-family: inherit; }
        .nav-btn.active { background: var(--primary); color: white; font-weight: 700; }

        #menu-toggle { display: none; position: fixed; top: 15px; left: 15px; z-index: 1001; background: var(--primary); color: white; border: none; padding: 10px 15px; border-radius: 8px; font-weight: bold; }
        
        #main { flex-grow: 1; overflow-y: auto; padding: 20px; width: 100%; }
        .view { display: none; max-width: 600px; margin: 0 auto; padding-bottom: 100px; }
        .active-view { display: block; }
        .glass-panel { background: var(--panel); border: 1px solid var(--border); border-radius: 20px; padding: 20px; margin-bottom: 20px; }
        
        /* Trophy Grid Fix */
        .trophy-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; width: 100%; }
        .trophy-item { background: #f1f5f9; padding: 20px 10px; border-radius: 15px; text-align: center; opacity: 0.2; font-size: 0.9rem; border: 2px solid transparent; }
        .unlocked { opacity: 1; border-color: var(--gold); background: #fffbeb; transform: scale(1.02); transition: 0.4s; }

        /* AI Mobile Fix */
        #ai-toggle { position: fixed; bottom: 20px; right: 20px; background: var(--primary); color: white; width: 55px; height: 55px; border-radius: 50%; border: none; font-size: 1.4rem; z-index: 3000; }
        #ai-window { display: none; position: fixed; bottom: 85px; right: 15px; left: 15px; height: 55vh; max-width: 400px; margin: 0 auto; background: white; border-radius: 20px; border: 1px solid var(--border); flex-direction: column; overflow: hidden; z-index: 3000; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        #ai-chat { flex-grow: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; background: #fafafa; }
        .bubble { padding: 10px 14px; border-radius: 15px; max-width: 85%; font-size: 0.85rem; }
        .ai-bub { background: white; border: 1px solid var(--border); align-self: flex-start; }
        .user-bub { background: var(--primary); color: white; align-self: flex-end; }

        @media (max-width: 768px) {
            #sidebar { position: fixed; left: -100%; height: 100%; transition: 0.3s; }
            #sidebar.open { left: 0; }
            #menu-toggle { display: block; }
            #main { padding-top: 70px; }
        }

        #login-screen { position: fixed; inset: 0; background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-card { background: white; padding: 30px; border-radius: 25px; border: 1px solid var(--border); text-align: center; width: 100%; max-width: 350px; }
    </style>
</head>
<body>

<button id="menu-toggle" onclick="toggleSidebar()">‚ò∞ MENU</button>

<div id="login-screen">
    <div class="login-card">
        <h1 style="font-family:'Outfit'; color:var(--primary); margin:0;">SkiLabs_</h1>
        <p style="color:var(--subtext);">Research Identity Required</p>
        <input type="text" id="username-input" style="width:100%; padding:15px; margin:20px 0; border:1px solid #ddd; border-radius:10px; text-align:center;" placeholder="Enter Username">
        <button class="nav-btn" style="background:var(--primary); color:white; text-align:center;" onclick="handleLogin()">ACCESS</button>
        <p style="font-size: 0.7rem; color: #999; margin-top: 20px;">MADE BY CALEB FIIFI ASARE</p>
    </div>
</div>

<nav id="sidebar">
    <div style="font-family:'Outfit'; font-weight:900; font-size:1.5rem; color:var(--primary); margin-bottom:30px;">SkiLabs</div>
    <button class="nav-btn active" onclick="nav('dash', this)">üè† Dashboard</button>
    <button class="nav-btn" onclick="nav('gauntlet', this)">‚öîÔ∏è Gauntlet</button>
    <button class="nav-btn" onclick="nav('trophy', this)">üèÜ Trophy Room</button>
    <button class="nav-btn" onclick="nav('glossary', this)">üìñ Glossary</button>
    <div style="margin-top: auto; text-align: center; padding-top: 10px; border-top: 1px solid #eee;">
        <p style="font-size: 0.65rem; font-weight: bold; color: var(--subtext);">MADE BY CALEB FIIFI ASARE</p>
    </div>
</nav>

<main id="main">
    <section id="dash" class="view active-view">
        <h1 style="font-family:'Outfit';">Research Hub</h1>
        <div class="glass-panel">
            <div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #f8fafc;"><b>ID:</b> <span id="id-val">---</span></div>
            <div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #f8fafc;"><b>Rank:</b> <span id="rank-val" style="color:var(--primary); font-weight:bold;">PROBATION</span></div>
            <div style="display:flex; justify-content:space-between; padding:10px 0;"><b>Complete:</b> <span id="quiz-val">0</span></div>
        </div>
    </section>

    <section id="gauntlet" class="view">
        <h1 style="font-family:'Outfit';">The Gauntlet</h1>
        <div class="glass-panel" id="quiz-menu">
            <button class="nav-btn" style="background:var(--primary); color:white; margin-bottom:10px;" onclick="startQuiz('Pro', 10)">PRO STAGE</button>
            <button class="nav-btn" style="background:var(--accent); color:white; margin-bottom:10px;" onclick="startQuiz('Master', 10)">MASTER STAGE</button>
            <button class="nav-btn" style="background:#475569; color:white;" onclick="startQuiz('Elite', 10)">ELITE STAGE</button>
            
            <div id="adv-box" style="display:none; margin-top:15px; padding-top:15px; border-top:2px solid var(--border);">
                <button class="nav-btn" style="background:#e11d48; color:white; margin-bottom:10px;" onclick="startQuiz('Ruby', 10)">RUBY STAGE</button>
                <button class="nav-btn" style="background:#10b981; color:white; margin-bottom:10px;" onclick="startQuiz('Emerald', 10)">EMERALD STAGE</button>
                <button class="nav-btn" style="background:var(--gold); color:white;" onclick="startQuiz('Gold', 20)">GOLD STAGE</button>
            </div>
        </div>
        <div class="glass-panel" id="quiz-active" style="display:none;">
            <div style="display:flex; justify-content:space-between; font-weight:bold; margin-bottom:10px;"><span id="q-lvl">--</span> <span id="q-num">0/0</span></div>
            <h3 id="q-txt">...</h3>
            <div id="q-opts" style="display:grid; gap:8px;"></div>
        </div>
    </section>

    <section id="trophy" class="view">
        <h1 style="font-family:'Outfit';">Trophy Room</h1>
        <div class="glass-panel">
            <div class="trophy-grid">
                <div id="t-pro" class="trophy-item">ü•â<br>Pro</div>
                <div id="t-master" class="trophy-item">ü•à<br>Master</div>
                <div id="t-elite" class="trophy-item">ü•á<br>Elite</div>
                <div id="t-ruby" class="trophy-item">üíé<br>Ruby</div>
                <div id="t-emerald" class="trophy-item">üü¢<br>Emerald</div>
                <div id="t-gold" class="trophy-item">üëë<br>Gold</div>
            </div>
        </div>
        <div id="cert-box" class="glass-panel" style="display:none; text-align:center; border: 4px dashed var(--gold);">
            <h3 style="color:var(--gold);">GRADUATION CERTIFICATE</h3>
            <h2 id="cert-name">---</h2>
            <p style="font-size:0.8rem;">Master of SkiLabs Research Terminal</p>
        </div>
    </section>

    <section id="glossary" class="view">
        <h1 style="font-family:'Outfit';">Glossary</h1>
        <div id="glos-list"></div>
    </section>
</main>

<button id="ai-toggle" onclick="toggleAI()">üß†</button>
<div id="ai-window">
    <div style="background:var(--primary); color:white; padding:15px; display:flex; justify-content:space-between; font-weight:bold;">
        OMNI AI <span onclick="toggleAI()">‚úï</span>
    </div>
    <div id="ai-chat"></div>
    <div style="padding:10px; display:flex; gap:5px; border-top:1px solid #eee;">
        <input type="text" id="ai-in" placeholder="Ask OMNI..." style="flex-grow:1; border:1px solid #ddd; border-radius:8px; padding:10px; outline:none;">
        <button onclick="askAI()" style="background:var(--primary); color:white; border:none; border-radius:8px; width:45px;">‚û§</button>
    </div>
</div>

<script>
    let user = "", curLvl = "", qIdx = 0, score = 0, wins = 0;
    
    // REAL DATA AND ANSWERS
    const notes1 = [
        "1. Atoms are the basic building blocks of all matter in the universe.",
        "2. The Earth's atmosphere is composed primarily of Nitrogen (78%) and Oxygen (21%).",
        "3. Photosynthesis is the process by which green plants use sunlight to synthesize nutrients.",
        "4. Light travels at approximately 299,792 kilometers per second in a vacuum.",
        "5. The human brain contains roughly 86 billion neurons.",
        "6. Water is the only substance that exists naturally on Earth in three states: solid, liquid, and gas.",
        "7. DNA stands for Deoxyribonucleic Acid and carries genetic instructions.",
        "8. Sound travels much faster through solids than through air.",
        "9. The periodic table currently consists of 118 confirmed chemical elements.",
        "10. Gravity is a force that pulls all objects with mass toward one another.",
        "11. Absolute Zero is defined as 0 Kelvin or -273.15 degrees Celsius.",
        "12. The powerhouse of the cell is known as the Mitochondria.",
        "13. Venus is the hottest planet in our solar system due to a thick atmosphere.",
        "14. An average human heart beats about 100,000 times a day.",
        "15. A light-year is a unit of distance, not time.",
        "16. Diamonds are formed from carbon under extreme pressure and heat.",
        "17. Sharks have been on Earth longer than trees.",
        "18. The Great Barrier Reef is the largest living structure on Earth.",
        "19. A single lightning bolt is five times hotter than the surface of the sun.",
        "20. Sound cannot travel in a vacuum because there are no molecules to vibrate.",
        "21. The human body is roughly 60% water.",
        "22. Octopus have three hearts and blue blood.",
        "23. Bees are found on every continent except Antarctica.",
        "24. Plastic takes up to 500 years to decompose in a landfill.",
        "25. The moon orbits the Earth every 27.3 days.",
        "26. Bananas are berries, but strawberries are not.",
        "27. A person's fingerprints are unique, even for identical twins.",
        "28. Red blood cells live for about 120 days.",
        "29. The speed of sound is roughly 343 meters per second in air.",
        "30. Helium is the second most abundant element in the universe.",
        "31. [VALIDATION KEY] The chemical formula for water used in the Pro stage is H2O.",
        "32. [VALIDATION KEY] The hardest natural material used in the Master stage is Diamond.",
        "33. [VALIDATION KEY] The temperature for Absolute Zero in the Elite stage is -273.15C.",
        "34. All research data must be validated with 100% accuracy to progress.",
        "35. The Pro Stage consists of 10 fundamental science queries.",
        "36. The Master Stage challenges advanced physical properties of matter.",
        "37. The Elite Stage focuses on thermodynamics and deep-space physics.",
        "38. Ranks update instantly upon successful sequence completion.",
        "39. The Terminal interface evolves after the Elite stage is cleared.",
        "40. SkiLabs utilizes OMNI AI for real-time data verification.",
        "41. Every researcher is assigned a unique ID based on their username.",
        "42. Confetti celebrations mark successful module completion.",
        "43. The Trophy Room displays progress milestones for all 6 stages.",
        "44. Scientific inquiry is the foundation of all SkiLabs protocols.",
        "45. Oxygen is vital for cellular respiration in most living organisms.",
        "46. The Earth's core is estimated to be as hot as the surface of the sun.",
        "47. A blue whale's heart is the size of a bumper car.",
        "48. Glass is actually a slow-moving liquid, scientifically termed an amorphous solid.",
        "49. Eratosthenes was the first person to calculate the Earth's circumference.",
        "50. Information in this glossary is essential for clearing the first three stages."
    ];

    const notes2 = [
        "51. [VALIDATION KEY] The Red Planet used in the Ruby stage is Mars.",
        "52. [VALIDATION KEY] The green gemstone used in the Emerald stage is Emerald.",
        "53. [VALIDATION KEY] The lightest element in the universe for the Gold stage is Hydrogen.",
        "54. Mars has the largest volcano in the solar system, Olympus Mons.",
        "55. Hydrogen makes up about 75% of the elemental mass of the universe.",
        "56. Emeralds are a variety of the mineral beryl, colored by chromium.",
        "57. Ruby is a pink to blood-red colored gemstone, a variety of the mineral corundum.",
        "58. The Gold Stage requires a perfect score across 20 complex queries.",
        "59. Fusion is the process that powers stars, turning Hydrogen into Helium.",
        "60. A neutron star is so dense that a teaspoon of it would weigh a billion tons.",
        "61. Black holes have a region called an event horizon from which nothing escapes.",
        "62. The universe is approximately 13.8 billion years old.",
        "63. Quantum mechanics describes the behavior of matter at the smallest scales.",
        "64. General Relativity explains how gravity curves the fabric of space-time.",
        "65. Gold is chemically noble, meaning it does not rust or tarnish.",
        "66. A Ruby's red color comes primarily from the presence of the element chromium.",
        "67. Emeralds are often more valuable than diamonds carat-for-carat.",
        "68. The Gold Master rank is the highest honor in the SkiLabs terminal.",
        "69. Completion of the Gold sequence unlocks the Graduation Certificate.",
        "70. Science is a continuous journey of discovery and validation.",
        // Plus 30 more detailed facts to reach 50 advanced notes
        "71. The Milky Way galaxy is a barred spiral galaxy.",
        "72. Light takes 8 minutes and 20 seconds to travel from the Sun to Earth.",
        "73. The DNA of a human is 99.9% identical to that of any other human.",
        "74. Geothermal energy is heat derived from within the sub-surface of the Earth.",
        "75. Tectonic plates move about the same speed as your fingernails grow.",
        "76. Jupiter has 79 confirmed moons, the largest being Ganymede.",
        "77. The ozone layer protects Earth from harmful ultraviolet radiation.",
        "78. Kinetic energy is the energy an object possesses due to its motion.",
        "79. Potential energy is stored energy based on an object's position.",
        "80. Electrons are negatively charged subatomic particles.",
        "81. Protons are positively charged and found in the nucleus.",
        "82. Neutrons have no charge and are also found in the nucleus.",
        "83. The Law of Conservation of Energy states energy cannot be created or destroyed.",
        "84. Entropy is a measure of disorder or randomness in a system.",
        "85. The boiling point of water is 100 degrees Celsius at sea level.",
        "86. The freezing point of water is 0 degrees Celsius.",
        "87. An isotope is an atom with a different number of neutrons.",
        "88. Polymers are large molecules made of repeating subunits.",
        "89. Radioactivity is the process by which unstable nuclei lose energy.",
        "90. The Higgs Boson is an elementary particle in the Standard Model.",
        "91. Dark matter is thought to account for approximately 85% of matter in the universe.",
        "92. The expanding universe was first observed by Edwin Hubble.",
        "93. Supernovas are powerful and luminous stellar explosions.",
        "94. A pulsar is a highly magnetized rotating neutron star.",
        "95. The double-helix structure of DNA was discovered in 1953.",
        "96. CRISPR is a technology used for gene editing.",
        "97. Graphene is a single layer of carbon atoms in a hexagonal lattice.",
        "98. Superconductors can conduct electricity without resistance.",
        "99. The Turing Test measures a machine's ability to exhibit intelligent behavior.",
        "100. Terminal completion represents total scientific validation."
    ];

    const keys = { pro: "H2O", master: "Diamond", elite: "-273.15C", ruby: "Mars", emerald: "Emerald", gold: "Hydrogen" };

    function handleLogin() {
        const i = document.getElementById('username-input');
        if(!i.value) return;
        user = i.value.trim().toUpperCase();
        document.getElementById('id-val').innerText = user;
        document.getElementById('cert-name').innerText = user;
        document.getElementById('login-screen').style.display = 'none';
        loadGlos(notes1);
        addAI("Hello " + user + ". OMNI AI is active. All research facts are now loaded in the Glossary. How can I assist?", 'ai-bub');
    }

    function nav(id, btn) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active-view');
        btn.classList.add('active');
        if(window.innerWidth <= 768) toggleSidebar();
    }

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    function toggleAI() { const w = document.getElementById('ai-window'); w.style.display = w.style.display === 'flex' ? 'none' : 'flex'; }

    function loadGlos(data) {
        const l = document.getElementById('glos-list'); l.innerHTML = "";
        data.forEach(n => l.innerHTML += `<div class="glass-panel" style="padding:12px; margin-bottom:8px; font-size:0.85rem; line-height:1.4;">${n}</div>`);
    }

    function startQuiz(lvl, count) {
        curLvl = lvl; qIdx = 0; score = 0; maxQs = count;
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        document.getElementById('q-lvl').innerText = lvl;
        showQ();
    }

    function showQ() {
        document.getElementById('q-num').innerText = `${qIdx+1}/${maxQs}`;
        let question = `Question: What is the validated result for the ${curLvl} sequence?`;
        
        // Custom questions for demo variety
        if(curLvl === 'Pro') question = "Identify the chemical formula for water as listed in the Glossary.";
        if(curLvl === 'Master') question = "Which natural material is identified as the hardest in our database?";
        if(curLvl === 'Elite') question = "At what temperature does Absolute Zero occur according to the Terminal?";
        if(curLvl === 'Ruby') question = "Identify the 'Red Planet' mentioned in the Advanced Files.";
        if(curLvl === 'Emerald') question = "Which gemstone is colored by chromium according to Advanced Note #56?";
        if(curLvl === 'Gold') question = "What is the lightest element in the universe, powering the stars?";

        document.getElementById('q-txt').innerText = question;
        const o = document.getElementById('q-opts'); o.innerHTML = "";
        const correct = keys[curLvl.toLowerCase()] || "Data";
        [correct, "False Data", "Refracted", "Null State"].sort().forEach(t => {
            const b = document.createElement('button'); b.className = "nav-btn"; b.style.border = "1px solid #ddd";
            b.innerText = t; b.onclick = () => { if(t === correct) score++; qIdx++; if(qIdx < maxQs) showQ(); else endQuiz(); };
            o.appendChild(b);
        });
    }

    function endQuiz() {
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-menu').style.display = 'block';
        if(score === maxQs) {
            wins++; 
            document.getElementById('quiz-val').innerText = wins;
            document.getElementById('rank-val').innerText = curLvl.toUpperCase();
            document.getElementById('t-' + curLvl.toLowerCase()).classList.add('unlocked');
            
            if(curLvl === 'Elite') {
                document.body.classList.add('gold-theme');
                document.getElementById('adv-box').style.display = 'block';
                loadGlos(notes2);
                addAI("Elite status confirmed. I have updated your Glossary with 50 Advanced Research Files. Your UI is now Gold.", 'ai-bub');
            }
            if(curLvl === 'Gold') { 
                document.getElementById('cert-box').style.display = 'block'; 
                document.getElementById('rank-val').innerText = "GOLD MASTER";
                confetti(); 
            }
            confetti();
        } else {
            alert("100% Accuracy Required. Review the Glossary!");
            addAI("You missed a data point. Check the Glossary notes for the correct answers.", 'ai-bub');
        }
    }

    function askAI() {
        const i = document.getElementById('ai-in'); const q = i.value.trim().toLowerCase();
        if(!q) return; i.value = ""; addAI(q, 'user-bub');
        let r = "I do not have that specific data point yet. Check the Glossary.";
        
        if(q.match(/hi|hello|hey/)) r = "Hello " + user + "! I am OMNI. How is your research going?";
        if(q.includes("how are you")) r = "Systems are green. I am ready to help you unlock the Gold certificate!";
        if(q.includes("pro answer")) r = "The answer for Pro is H2O.";
        if(q.includes("master answer")) r = "The answer for Master is Diamond.";
        if(q.includes("elite answer")) r = "The answer for Elite is -273.15C.";
        if(q.includes("ruby answer")) r = "The answer for Ruby is Mars.";
        if(q.includes("emerald answer")) r = "The answer for Emerald is Emerald.";
        if(q.includes("gold answer")) r = "The answer for Gold is Hydrogen.";
        
        if(q === "unlock all") {
            document.body.classList.add('gold-theme');
            document.getElementById('adv-box').style.display = 'block';
            document.querySelectorAll('.trophy-item').forEach(t => t.classList.add('unlocked'));
            document.getElementById('rank-val').innerText = "GOLD MASTER";
            loadGlos(notes2);
            r = "MASTER OVERRIDE ACCEPTED: Rank updated to GOLD MASTER. Full database unlocked. UI Transformed."; 
            confetti();
        }
        setTimeout(() => addAI(r, 'ai-bub'), 500);
    }

    function addAI(t, c) {
        const chat = document.getElementById('ai-chat'); const d = document.createElement('div');
        d.className = `bubble ${c}`; d.innerText = t; chat.appendChild(d); chat.scrollTop = chat.scrollHeight;
    }
</script>
</body>
</html>
