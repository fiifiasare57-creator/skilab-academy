<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkiLabs Academy | Research Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #6366f1; --accent: #0ea5e9; --gold: #f59e0b; --ruby: #e11d48; --emerald: #10b981; --bg: #f8fafc; --panel: #ffffff; --border: #e2e8f0; --text: #1e293b; }
        * { box-sizing: border-box; transition: all 0.2s ease; }
        body { margin: 0; font-family: 'Space Grotesk', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Login Screen */
        #login-screen { position: fixed; inset: 0; background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-card { background: white; padding: 40px; border-radius: 24px; border: 1px solid var(--border); box-shadow: 0 20px 40px rgba(0,0,0,0.05); text-align: center; width: 100%; max-width: 380px; }
        .login-input { width: 100%; padding: 15px; margin: 20px 0; border: 2px solid var(--border); border-radius: 12px; outline: none; font-size: 1rem; }

        /* Sidebar & Navigation */
        #menu-toggle { display: none; position: fixed; top: 15px; left: 15px; z-index: 1001; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; box-shadow: 0 4px 10px rgba(99,102,241,0.3); }
        #sidebar { width: 280px; background: var(--panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 30px 20px; flex-shrink: 0; z-index: 2000; position: relative; }
        #close-sidebar { display: none; position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b; }
        
        .nav-btn { padding: 14px 20px; margin-bottom: 8px; border-radius: 12px; cursor: pointer; color: #64748b; font-weight: 500; border: none; background: none; text-align: left; font-size: 1rem; width: 100%; }
        .nav-btn.active { background: #e0e7ff; color: var(--primary); font-weight: 700; }

        /* Main Content */
        #main { flex-grow: 1; overflow-y: auto; padding: 40px; position: relative; width: 100%; }
        .view { display: none; max-width: 900px; margin: 0 auto; width: 100%; }
        .active-view { display: block; }
        .glass-panel { background: var(--panel); border: 1px solid var(--border); border-radius: 24px; padding: clamp(15px, 5vw, 30px); margin-bottom: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); }

        /* Grids */
        .glossary-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 15px; }
        .fact-card { background: var(--panel); padding: 15px; border-radius: 12px; border: 1px solid var(--border); border-left: 4px solid var(--accent); font-size: 0.85rem; }
        .trophy-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .trophy { padding: 20px; border-radius: 20px; background: #f1f5f9; filter: grayscale(1); opacity: 0.3; text-align: center; font-weight: 700; border: 2px solid transparent; }
        .trophy.unlocked { filter: grayscale(0); opacity: 1; background: white; border-color: var(--gold); transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }

        /* AI Component */
        #ai-toggle { position: fixed; bottom: 30px; right: 30px; background: var(--primary); color: white; padding: 15px 25px; border-radius: 50px; cursor: pointer; border: none; font-weight: 700; z-index: 1000; box-shadow: 0 10px 20px rgba(99,102,241,0.3); }
        #ai-window { display: none; position: fixed; bottom: 95px; right: 20px; left: 20px; max-width: 350px; margin-left: auto; height: 500px; background: white; border: 1px solid var(--border); border-radius: 20px; z-index: 1000; flex-direction: column; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
        #ai-chat { flex-grow: 1; padding: 15px; overflow-y: auto; font-size: 0.9rem; display: flex; flex-direction: column; gap: 10px; background: #fcfcfd; }
        .bubble { padding: 10px 14px; border-radius: 15px; max-width: 85%; line-height: 1.4; white-space: pre-wrap; }
        .ai-bub { background: #e0e7ff; color: var(--primary); align-self: flex-start; border-bottom-left-radius: 2px; }
        .user-bub { background: #f1f5f9; color: var(--text); align-self: flex-end; border-bottom-right-radius: 2px; }

        /* Buttons & Credits */
        .action-btn { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 700; margin-bottom: 10px; }
        .opt-btn { width: 100%; text-align: left; padding: 12px; margin-top: 8px; background: white; border: 1px solid var(--border); border-radius: 12px; cursor: pointer; font-size: 0.9rem; }
        .dev-credit { margin-top: auto; font-size: 0.7rem; color: #94a3b8; text-align: center; padding-top: 15px; border-top: 1px solid var(--border); }

        @media (max-width: 768px) {
            #sidebar { position: fixed; left: -100%; height: 100%; width: 280px; transition: 0.3s ease; }
            #sidebar.open { left: 0; box-shadow: 20px 0 50px rgba(0,0,0,0.1); }
            #menu-toggle { display: block; }
            #close-sidebar { display: block; }
            #main { padding: 80px 20px 40px 20px; }
            .trophy-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<button id="menu-toggle" onclick="toggleSidebar()">‚ò∞ Menu</button>

<div id="login-screen">
    <div class="login-card">
        <h1 style="font-family:'Outfit'; color:var(--primary); margin:0;">SkiLabs_</h1>
        <p style="color:#64748b;">Research Division Portal</p>
        <input type="text" id="username-input" class="login-input" placeholder="Enter Researcher Name..." autocomplete="off">
        <button class="action-btn" onclick="handleLogin()">AUTHORIZE ACCESS</button>
        <p style="font-size: 0.7rem; color: #cbd5e1; margin-top: 25px;">MAINTAINED BY CALEB FIIFI ASARE</p>
    </div>
</div>

<nav id="sidebar">
    <button id="close-sidebar" onclick="toggleSidebar()">‚úï</button>
    <div style="font-family:'Outfit'; font-weight:900; font-size:1.5rem; margin-bottom:30px; color:var(--primary);">SkiLabs_</div>
    <button class="nav-btn active" onclick="nav('dash', this)">üè† Lab Hub</button>
    <button class="nav-btn" onclick="nav('gauntlet', this)">‚öîÔ∏è Research Gauntlet</button>
    <button class="nav-btn" onclick="nav('trophy', this)">üèÜ Archives</button>
    <button class="nav-btn" onclick="nav('glossary', this)">üìñ Central Database</button>
    <div class="dev-credit">MADE BY CALEB FIIFI ASARE</div>
</nav>

<main id="main">
    <section id="dash" class="view active-view">
        <h1 style="font-family:'Outfit'; font-size:2.5rem;">Lab Hub</h1>
        <div id="hc-banner" style="display:none; background:linear-gradient(45deg, var(--ruby), var(--gold)); color:white; padding:15px; border-radius:15px; text-align:center; font-weight:900; margin-bottom:20px;">üíé PRECIOUS STONE PROTOCOL AUTHORIZED</div>
        <div class="glass-panel">
            <h3>Personnel Identification</h3>
            <div style="background:#f1f5f9; padding:15px; border-radius:12px; border-left:4px solid var(--primary);">
                <p style="margin:0; font-size:0.8rem; color:#64748b;">RESEARCHER NAME:</p>
                <b id="display-id" style="font-size:1.2rem;">UNAUTHORIZED</b>
            </div>
            <p style="margin-top:15px;">Clearance: <span id="rank-tag" style="background:var(--primary); color:white; padding:5px 15px; border-radius:20px; font-weight:700;">LEVEL 1</span></p>
        </div>
    </section>

    <section id="gauntlet" class="view">
        <h1 style="font-family:'Outfit';">Research Gauntlet</h1>
        <div class="glass-panel" id="quiz-container">
            <div id="quiz-menu">
                <div id="std-set">
                    <button class="action-btn" onclick="startQuiz('Pro')">PRO TEST (10 Qs)</button>
                    <button class="action-btn" style="background:var(--accent);" onclick="startQuiz('Master')">MASTER TEST (10 Qs)</button>
                    <button class="action-btn" style="background:var(--text);" onclick="startQuiz('Elite')">ELITE TEST (10 Qs)</button>
                </div>
                <div id="hc-set" style="display:none; margin-top:20px; padding-top:20px; border-top:2px dashed var(--border);">
                    <button class="action-btn" style="background:var(--ruby);" onclick="startQuiz('Ruby')">RUBY TEST (10 Qs)</button>
                    <button class="action-btn" style="background:var(--emerald);" onclick="startQuiz('Emerald')">EMERALD TEST (10 Qs)</button>
                    <button class="action-btn" style="background:var(--gold);" onclick="startQuiz('Gold')">GOLD TEST (20 Qs)</button>
                </div>
            </div>
            <div id="quiz-active" style="display:none;">
                <div style="display:flex; justify-content:space-between; margin-bottom:20px;"><b id="active-lvl">Test</b> <span id="q-progress">1/10</span></div>
                <h3 id="q-text" style="line-height:1.4;">Question...</h3>
                <div id="q-options"></div>
            </div>
        </div>
    </section>

    <section id="trophy" class="view">
        <h1 style="font-family:'Outfit';">Trophy Archives</h1>
        <div class="trophy-grid">
            <div class="trophy" id="t-Pro">ü•â<br>Pro</div>
            <div class="trophy" id="t-Master">ü•à<br>Master</div>
            <div class="trophy" id="t-Elite">ü•á<br>Elite</div>
            <div class="trophy" id="t-Ruby">‚ô¶Ô∏è<br>Ruby</div>
            <div class="trophy" id="t-Emerald">üíö<br>Emerald</div>
            <div class="trophy" id="t-Gold">üëë<br>GOLD</div>
        </div>
    </section>

    <section id="glossary" class="view">
        <h1 style="font-family:'Outfit';">Central Database</h1>
        <p id="glos-mode" style="font-weight:700; color:var(--primary);">Status: Tier 1 Data Accessible</p>
        <div class="glossary-grid" id="glos-box"></div>
    </section>
</main>

<button id="ai-toggle" onclick="toggleAI()">üß† Omni AI</button>
<div id="ai-window">
    <div style="background:var(--primary); color:white; padding:15px; font-weight:700; display:flex; justify-content:space-between;">
        <span>OMNI AI v10.0</span><span onclick="toggleAI()" style="cursor:pointer;">‚úï</span>
    </div>
    <div id="ai-chat"></div>
    <div style="padding:10px; border-top:1px solid var(--border); display:flex; gap:5px;">
        <input type="text" id="ai-input" placeholder="Query data..." style="flex-grow:1; border:none; background:#f1f5f9; padding:10px; border-radius:8px; outline:none;">
        <button onclick="askAI()" style="background:var(--primary); color:white; border:none; padding:0 15px; border-radius:8px;">‚û§</button>
    </div>
</div>

<script>
    let activeUser = "", isHC = false, curLvl = "", qIdx = 0, score = 0;
    let unlocked = { Pro: false, Master: false, Elite: false, Ruby: false, Emerald: false, Gold: false };

    // Notes Data
    const stdFacts = ["Mitochondria power cells.","Water expands when frozen.","Venus rotates clockwise.","Lightning is hotter than sun.","Humans share 50% DNA with bananas.","Light takes 8 mins from Sun.","Honey never spoils.","Heart beats 100k times daily.","Octopuses have blue blood.","Sound is 4x faster in water.","Diamond is hardest.","Earth core is hot as Sun.","Blood takes 60s for circuit.","Oxygen is blue as liquid.","Helium can't be solid by cold."];
    const hcFacts = ["Entropy measures system disorder.","Mitochondria have their own DNA.","Absolute Zero is -273.15C.","Tectonic plates move like fingernails.","Schwarzschild radius defines black holes.","Quantum entanglement is instant sync.","Hydrogen bonds hold DNA strands.","Higgs Boson provides mass.","Nuclear fusion powers the stars.","Fibonacci exists in sunflowers."];

    // Full 10 Question Sets
    const questions = {
        Pro: [
            {q:"Which chemical formula represents water?", a:["CO2","H2O","NaCl","O2"], c:1},
            {q:"Which symbol represents Gold?", a:["Ag","Fe","Au","Cu"], c:2},
            {q:"Which is the 'Red Planet'?", a:["Venus","Mars","Jupiter","Saturn"], c:1},
            {q:"Which organelle generates ATP?", a:["Nucleus","Ribosome","Mitochondria","Golgi"], c:2},
            {q:"Boiling point of water in Celsius?", a:["50¬∞C","90¬∞C","100¬∞C","120¬∞C"], c:2},
            {q:"The center of our solar system is?", a:["The Moon","Alpha Centauri","The Sun","Polaris"], c:2},
            {q:"Chemical notation for table salt?", a:["HCl","NaCl","NaOH","KCl"], c:1},
            {q:"Hardest natural substance?", a:["Quartz","Ruby","Diamond","Topaz"], c:2},
            {q:"Gas humans primarily inhale?", a:["Nitrogen","CO2","Oxygen","Argon"], c:2},
            {q:"Smallest planet in solar system?", a:["Earth","Mercury","Mars","Neptune"], c:1}
        ],
        Master: [
            {q:"Earth's atmosphere is 78% what?", a:["Oxygen","CO2","Nitrogen","Hydrogen"], c:2},
            {q:"Unit of electrical resistance?", a:["Volt","Ampere","Ohm","Watt"], c:2},
            {q:"Symbol for Silver?", a:["Si","Ag","Au","Pb"], c:1},
            {q:"Neutral pH value?", a:["1","14","7","0"], c:2},
            {q:"Lightest element in universe?", a:["Helium","Oxygen","Hydrogen","Carbon"], c:2},
            {q:"Healthy adult tooth count?", a:["28","30","32","36"], c:2},
            {q:"Study of prehistoric life?", a:["Archaeology","Paleontology","Geology","Botany"], c:1},
            {q:"Star closest to Earth (not Sun)?", a:["Sirius","Proxima Centauri","Betelgeuse","Vega"], c:1},
            {q:"Substance that expands when frozen?", a:["Mercury","Olive Oil","Water","Alcohol"], c:2},
            {q:"Color of liquid oxygen?", a:["Pale Blue","Deep Red","Clear","Neon Green"], c:0}
        ],
        Elite: [
            {q:"Gravity on Earth (sea level)?", a:["8.5 m/s¬≤","9.8 m/s¬≤","10.2 m/s¬≤","12.0 m/s¬≤"], c:1},
            {q:"Atomic number of Carbon?", a:["1","6","12","14"], c:1},
            {q:"Smallest bone in human body?", a:["Femur","Stapes","Ulna","Phalanges"], c:1},
            {q:"Bond where atoms share electrons?", a:["Ionic","Covalent","Hydrogen","Metallic"], c:1},
            {q:"Absolute Zero in Celsius?", a:["-100.00¬∞C","-212.15¬∞C","-273.15¬∞C","-300.00¬∞C"], c:2},
            {q:"Formula for Force?", a:["F=m/v","F=m+a","F=ma","F=E/c¬≤"], c:2},
            {q:"Main ingredient in glass?", a:["Limestone","Alumina","Silica","Potash"], c:2},
            {q:"Particles in one mole?", a:["Planck","Avogadro","Golden Ratio","Pi"], c:1},
            {q:"Negative subatomic particle?", a:["Proton","Neutron","Electron","Quark"], c:2},
            {q:"Speed of light (vacuum)?", a:["150k km/s","299,792 km/s","500k km/s","1m km/s"], c:1}
        ],
        Ruby: [
            {q:"Measure of system 'disorder'?", a:["Inertia","Entropy","Enthalpy","Friction"], c:1},
            {q:"Process that powers stars?", a:["Fission","Oxidation","Fusion","Decay"], c:2},
            {q:"Freezing point of water in F?", a:["0¬∞F","100¬∞F","32¬∞F","212¬∞F"], c:2},
            {q:"The 'God Particle' name?", a:["Proton","Neutron","Higgs Boson","Graviton"], c:2},
            {q:"pH less than 7 property?", a:["Alkaline","Neutral","Acidic","Amphoteric"], c:2},
            {q:"Bond holding DNA strands?", a:["Covalent","Hydrogen","Metallic","Peptide"], c:1},
            {q:"Wave-particle duality term?", a:["Photoelectric","Uncertainty","Quantum Wave","Entanglement"], c:2},
            {q:"Nature's mathematical sequence?", a:["Binary","Prime","Fibonacci","Geometric"], c:2},
            {q:"Collapsed star state?", a:["White Dwarf","Neutron Star","Red Giant","Supernova"], c:1},
            {q:"Theoretical lowest temperature?", a:["Relative Zero","Liquid Nitrogen","Absolute Zero","Deep Space"], c:2}
        ],
        Emerald: [
            {q:"Building blocks of proteins?", a:["Lipids","Glucose","Amino Acids","Nucleotides"], c:2},
            {q:"Most abundant element in Earth's crust?", a:["Iron","Silicon","Oxygen","Aluminum"], c:2},
            {q:"Instant link between particles?", a:["Tunneling","Entanglement","Superposition","Decoherence"], c:1},
            {q:"Layer shielding UV radiation?", a:["Troposphere","Ozone Layer","Mesosphere","Exosphere"], c:1},
            {q:"Growing plants without soil?", a:["Photosynthesis","Aquaculture","Hydroponics","Irrigation"], c:2},
            {q:"Water movement through membrane?", a:["Diffusion","Active Transport","Osmosis","Capillary"], c:2},
            {q:"Speed of sound (dry air)?", a:["100 m/s","343 m/s","1,000 m/s","300k m/s"], c:1},
            {q:"DNA replication phase?", a:["G1","S Phase","G2","Mitosis"], c:1},
            {q:"Bending of light?", a:["Reflection","Refraction","Diffraction","Dispersion"], c:1},
            {q:"Neurons in adult brain?", a:["10bn","50bn","86bn","200bn"], c:2}
        ],
        Gold: [
            {q:"Age of Big Bang (billions)?", a:["5.4","13.8","20.1","4.6"], c:1},
            {q:"27% of universe composition?", a:["Anti-Matter","Dark Matter","Nebula","Black Hole"], c:1},
            {q:"Components of protons?", a:["Leptons","Quarks","Bosons","Mesons"], c:1},
            {q:"Apollo 11 landing year?", a:["1961","1969","1972","1955"], c:1},
            {q:"Thickest Earth layer?", a:["Crust","Mantle","Core","Lithosphere"], c:1},
            {q:"Newton's Resistance to change?", a:["Velocity","Accel","Inertia","Momentum"], c:2},
            {q:"Spacetime ripples detected 2015?", a:["Black Holes","Gravitational Waves","Dark Energy","Dilation"], c:1},
            {q:"DNA double-helix duo?", a:["Einstein/Hawking","Watson/Crick","Darwin/Wallace","Bohr/Planck"], c:1},
            {q:"Reaction that releases heat?", a:["Endothermic","Catalytic","Exothermic","Hydrolytic"], c:2},
            {q:"Reaction that absorbs heat?", a:["Exothermic","Endothermic","Combustion","Oxidation"], c:1},
            {q:"Highest melting point element?", a:["Iron","Titanium","Tungsten","Platinum"], c:2},
            {q:"Wave frequency change by motion?", a:["Photoelectric","Doppler Effect","Redshift","Interference"], c:1},
            {q:"Study of fossil record?", a:["Geology","Anthropology","Paleontology","Entomology"], c:2},
            {q:"Biological catalyst?", a:["Hormone","Vitamin","Enzyme","Lipid"], c:2},
            {q:"Liquid flow in narrow spaces?", a:["Surface Tension","Capillary Action","Viscosity","Magnetism"], c:1},
            {q:"Mantle's liquid-solid behavior?", a:["Plasticity","Rigidity","Brittleness","Elasticity"], c:0},
            {q:"Heavy element creation event?", a:["Solar Wind","Supernova","Main Sequence","Red Giant"], c:1},
            {q:"Chromosome composition?", a:["DNA/Lipid","DNA/Protein","RNA/Sugar","RNA/Fat"], c:1},
            {q:"Genetic code evolution mechanism?", a:["Adaptation","Mutation","Natural Selection","Speciation"], c:1},
            {q:"Neutral pH number?", a:["0","7","14","1"], c:1}
        ]
    };

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    
    function handleLogin() {
        const input = document.getElementById('username-input');
        if(input.value.trim().length < 2) return alert("Please enter a name.");
        activeUser = input.value.trim();
        document.getElementById('display-id').innerText = activeUser.toUpperCase();
        document.getElementById('login-screen').style.display = 'none';
        loadGlossary();
        addAiMsg("Access Authorized. Welcome, Researcher " + activeUser + ".");
    }

    function nav(id, btn) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active-view');
        btn.classList.add('active');
        if(window.innerWidth <= 768) toggleSidebar();
    }

    function loadGlossary() {
        const b = document.getElementById('glos-box'); b.innerHTML = "";
        const list = isHC ? hcFacts : stdFacts;
        list.forEach((f, i) => b.innerHTML += `<div class="fact-card"><b>RECORD #${i+1}:</b> ${f}</div>`);
    }

    function startQuiz(lvl) {
        curLvl = lvl; qIdx = 0; score = 0;
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        showQ();
    }

    function showQ() {
        const qData = questions[curLvl][qIdx];
        document.getElementById('active-lvl').innerText = curLvl.toUpperCase() + " TEST";
        document.getElementById('q-progress').innerText = `Question ${qIdx+1} of ${questions[curLvl].length}`;
        document.getElementById('q-text').innerText = qData.q;
        const o = document.getElementById('q-options'); o.innerHTML = "";
        qData.a.forEach((opt, i) => {
            const b = document.createElement('button'); b.className = "opt-btn"; b.innerText = opt;
            b.onclick = () => { if(i === qData.c) score++; qIdx++; if(qIdx < questions[curLvl].length) showQ(); else endQuiz(); };
            o.appendChild(b);
        });
    }

    function endQuiz() {
        const max = questions[curLvl].length;
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-menu').style.display = 'block';
        if(score === max) {
            unlocked[curLvl] = true; updateUI();
            if(curLvl === 'Elite') { isHC = true; document.getElementById('hc-banner').style.display = 'block'; document.getElementById('hc-set').style.display = 'block'; loadGlossary(); }
            confetti(); alert("MASTERY ACHIEVED! 100% Accuracy.");
        } else alert(`FAILED. Score: ${score}/${max}. You need 100% to unlock the trophy.`);
    }

    function updateUI() { Object.keys(unlocked).forEach(k => { if(unlocked[k]) document.getElementById('t-'+k).classList.add('unlocked'); }); }
    
    function toggleAI() { const w = document.getElementById('ai-window'); w.style.display = w.style.display === 'flex' ? 'none' : 'flex'; }
    
    function askAI() {
        const i = document.getElementById('ai-input'); const q = i.value.trim().toLowerCase(); 
        if(!q) return;
        i.value = ""; addMsg(q, 'user-bub');
        let res = "Searching terminal database...";

        // SECRET CODE LOGIC
        if(q === "nkb gf") {
            res = "üíñ [PERSONAL MESSAGE DECRYPTED]\n\n" +
                  "To my beautiful Nhyira Karikari Bonsu,\n\n" +
                  "I wanted to hide this here so only you could find it. You are my world, my queen and my life. You are the best discovery I've ever made in this life.\n\n" +
                  "I love you so much! \n\n" +
                  "Forever yours,\nCaleb.";
            confetti({ particleCount: 200, spread: 80, origin: { y: 0.6 } });
        } 
        else if(q.includes("hi") || q.includes("hello")) res = "Hello Researcher. Use the sidebar to access tests.";
        else res = "Error: Reference not found in local files.";
        
        setTimeout(() => addAiMsg(res), 500);
    }

    function addMsg(text, cls) {
        const chat = document.getElementById('ai-chat'); const div = document.createElement('div');
        div.className = `bubble ${cls}`; div.innerText = text; chat.appendChild(div); chat.scrollTop = chat.scrollHeight;
    }
    function addAiMsg(text) { addMsg(text, 'ai-bub'); }
</script>
</body>
</html>
