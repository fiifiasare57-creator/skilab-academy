<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SkiLabs | Final Presentation</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #6366f1; --accent: #0ea5e9; --gold: #f59e0b; --bg: #f8fafc; --panel: #ffffff; --border: #e2e8f0; --text: #1e293b; --subtext: #64748b; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: all 0.2s ease; }
        body { margin: 0; font-family: 'Space Grotesk', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Custom Scrollbar */
        #main::-webkit-scrollbar { width: 6px; }
        #main::-webkit-scrollbar-track { background: #f1f1f1; }
        #main::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        /* Login Screen */
        #login-screen { position: fixed; inset: 0; background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-card { background: white; padding: 35px; border-radius: 24px; border: 1px solid var(--border); box-shadow: 0 10px 25px rgba(0,0,0,0.05); text-align: center; width: 100%; max-width: 380px; }
        .login-input { width: 100%; padding: 15px; margin: 15px 0; border: 2px solid var(--border); border-radius: 12px; outline: none; font-size: 1rem; text-align: center; }

        /* Sidebar Navigation */
        #menu-toggle { display: none; position: fixed; top: 15px; left: 15px; z-index: 1001; background: var(--primary); color: white; border: none; padding: 12px 18px; border-radius: 10px; cursor: pointer; font-weight: bold; }
        #sidebar { width: 260px; background: white; border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 30px 20px; flex-shrink: 0; z-index: 2000; position: relative; }
        #close-sidebar { position: absolute; top: 20px; right: 20px; color: var(--text); background: #f1f5f9; border: none; padding: 8px 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        .nav-btn { padding: 14px 20px; margin-bottom: 8px; border-radius: 12px; cursor: pointer; color: var(--subtext); border: none; background: none; text-align: left; width: 100%; font-size: 1rem; font-family: inherit; }
        .nav-btn.active { background: #eef2ff; color: var(--primary); font-weight: 700; }

        /* Main Content */
        #main { flex-grow: 1; overflow-y: auto; padding: 30px; width: 100%; scroll-behavior: smooth; }
        .view { display: none; max-width: 800px; margin: 0 auto; padding-bottom: 100px; }
        .active-view { display: block; }
        .glass-panel { background: white; border: 1px solid var(--border); border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        
        /* Trophy Room UI */
        .trophy-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 10px; }
        .trophy-item { background: #f8fafc; padding: 20px; border-radius: 18px; text-align: center; border: 2px solid #e2e8f0; opacity: 0.2; transform: scale(0.95); }
        .trophy-unlocked { opacity: 1; border-color: var(--gold); background: #fffcf0; transform: scale(1); box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2); }

        /* Quiz UI */
        .opt-btn { width: 100%; text-align: left; padding: 16px; margin-bottom: 10px; background: #f8fafc; border: 1px solid var(--border); border-radius: 12px; cursor: pointer; color: var(--text); font-family: inherit; }

        /* AI UI */
        #ai-toggle { position: fixed; bottom: 25px; right: 25px; background: var(--primary); color: white; padding: 16px 24px; border-radius: 50px; border: none; font-weight: 900; z-index: 1000; box-shadow: 0 10px 20px rgba(99,102,241,0.3); }
        #ai-window { display: none; position: fixed; bottom: 95px; right: 20px; left: 20px; max-width: 380px; margin-left: auto; height: 60vh; background: white; border: 1px solid var(--border); border-radius: 24px; z-index: 1000; flex-direction: column; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        #ai-chat { flex-grow: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; background: #fafbfc; }
        .bubble { padding: 12px 16px; border-radius: 18px; max-width: 85%; font-size: 0.9rem; }
        .ai-bub { background: white; align-self: flex-start; border: 1px solid var(--border); }
        .user-bub { background: var(--primary); color: white; align-self: flex-end; }

        @media (max-width: 768px) {
            #sidebar { position: fixed; left: -100%; height: 100%; transition: 0.4s; }
            #sidebar.open { left: 0; box-shadow: 15px 0 40px rgba(0,0,0,0.1); }
            #menu-toggle { display: block; }
            #main { padding-top: 80px; }
        }
    </style>
</head>
<body>

<button id="menu-toggle" onclick="toggleSidebar()">‚ò∞ MENU</button>

<div id="login-screen">
    <div class="login-card">
        <h1 style="font-family:'Outfit'; color:var(--primary); margin:0;">SkiLabs_</h1>
        <p style="color:var(--subtext);">Presentation Access</p>
        <input type="text" id="username-input" class="login-input" placeholder="Enter Name">
        <button class="nav-btn" style="background:var(--primary); color:white; text-align:center;" onclick="handleLogin()">AUTHENTICATE</button>
        <p style="font-size: 0.7rem; color: #94a3b8; margin-top: 25px; font-weight: bold;">MADE BY CALEB FIIFI ASARE</p>
    </div>
</div>

<nav id="sidebar">
    <button id="close-sidebar" onclick="toggleSidebar()">‚úï CLOSE</button>
    <div style="font-family:'Outfit'; font-weight:900; font-size:1.8rem; margin-bottom:40px; color:var(--primary); margin-top: 40px;">SkiLabs_</div>
    <button class="nav-btn active" onclick="nav('dash', this)">üè† Dashboard</button>
    <button class="nav-btn" onclick="nav('gauntlet', this)">‚öîÔ∏è Gauntlet</button>
    <button class="nav-btn" onclick="nav('trophy', this)">üèÜ Trophy Room</button>
    <button class="nav-btn" onclick="nav('glossary', this)">üìñ Database</button>
    <div style="margin-top: auto; font-size: 0.7rem; color: var(--subtext); text-align: center; padding: 20px 0; border-top: 1px solid #f1f5f9;">MADE BY CALEB FIIFI ASARE</div>
</nav>

<main id="main">
    <section id="dash" class="view active-view">
        <h1 style="font-family:'Outfit';">Research Hub</h1>
        <div class="glass-panel">
            <div style="display:flex; justify-content:space-between; padding: 12px 0; border-bottom: 1px solid #f1f5f9;"><b>ID:</b> <span id="display-id">---</span></div>
            <div style="display:flex; justify-content:space-between; padding: 12px 0; border-bottom: 1px solid #f1f5f9;"><b>Rank:</b> <span id="display-lvl" style="color:var(--primary); font-weight:bold;">PROBATION</span></div>
            <div style="display:flex; justify-content:space-between; padding: 12px 0;"><b>Quizzes:</b> <span id="win-count" style="color:var(--gold); font-weight:bold;">0</span></div>
        </div>
        <p style="text-align:center; font-weight:bold; color:var(--subtext); margin-top: 30px;">MADE BY CALEB FIIFI ASARE</p>
    </section>

    <section id="gauntlet" class="view">
        <h1 style="font-family:'Outfit';">Research Gauntlet</h1>
        <div class="glass-panel" id="quiz-menu">
            <button class="nav-btn" style="background:var(--primary); color:white; margin-bottom:12px;" onclick="startQuiz('Pro', 10)">PRO TEST (10 Qs)</button>
            <button class="nav-btn" style="background:var(--accent); color:white; margin-bottom:12px;" onclick="startQuiz('Master', 10)">MASTER TEST (10 Qs)</button>
            <button class="nav-btn" style="background:#475569; color:white;" onclick="startQuiz('Elite', 10)">ELITE TEST (10 Qs)</button>
            
            <div id="adv-ranks" style="display:none; margin-top:20px; border-top:2px solid #eee; padding-top:20px;">
                <button class="nav-btn" style="background:#e11d48; color:white; margin-bottom:12px;" onclick="startQuiz('Ruby', 10)">RUBY TEST (10 Qs)</button>
                <button class="nav-btn" style="background:#10b981; color:white; margin-bottom:12px;" onclick="startQuiz('Emerald', 10)">EMERALD TEST (10 Qs)</button>
                <button class="nav-btn" style="background:var(--gold); color:white;" onclick="startQuiz('Gold', 20)">FINAL GOLD TEST (20 Qs)</button>
            </div>
        </div>
        <div class="glass-panel" id="quiz-active" style="display:none;">
            <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:0.8rem; margin-bottom:15px;">
                <span id="active-test-name">TEST</span>
                <span id="q-progress">0/0</span>
            </div>
            <h3 id="q-text" style="margin-bottom:25px;">...</h3>
            <div id="q-options"></div>
        </div>
    </section>

    <section id="trophy" class="view">
        <h1 style="font-family:'Outfit';">Trophy Room</h1>
        <div class="glass-panel">
            <div class="trophy-grid">
                <div id="t-pro" class="trophy-item">ü•â<br><small>Pro</small></div>
                <div id="t-master" class="trophy-item">ü•à<br><small>Master</small></div>
                <div id="t-elite" class="trophy-item">ü•á<br><small>Elite</small></div>
                <div id="t-ruby" class="trophy-item">üíé<br><small>Ruby</small></div>
                <div id="t-emerald" class="trophy-item">üü¢<br><small>Emerald</small></div>
                <div id="t-gold" class="trophy-item">üëë<br><small>Gold</small></div>
            </div>
        </div>
    </section>

    <section id="glossary" class="view">
        <h1 style="font-family:'Outfit';">The Database</h1>
        <div id="glos-box"></div>
    </section>
</main>

<button id="ai-toggle" onclick="toggleAI()">üß† OMNI AI</button>
<div id="ai-window">
    <div style="background:var(--primary); color:white; padding:15px; display:flex; justify-content:space-between;">
        <b>OMNI AI v3.5</b> <span onclick="toggleAI()" style="cursor:pointer;">‚úï</span>
    </div>
    <div id="ai-chat"></div>
    <div style="padding:10px; display:flex; gap:5px; border-top:1px solid #eee;">
        <input type="text" id="ai-input" placeholder="Ask OMNI..." style="flex-grow:1; border:1px solid #ddd; border-radius:10px; padding:10px; outline:none;">
        <button onclick="askAI()" style="background:var(--primary); color:white; border:none; border-radius:10px; padding:0 15px;">‚û§</button>
    </div>
</div>

<script>
    let activeUser = "", curLvl = "", qIdx = 0, score = 0, totalWins = 0, maxQs = 0;

    const facts = [
        "Mitochondria is the powerhouse of the cell.", "Water expands when frozen.", "Venus rotates clockwise.", "Lightning is 5x hotter than the sun.", "Humans share 50% DNA with bananas.", "Light takes 8 mins from Sun to Earth.", "Honey never spoils.", "The heart beats 100k times daily.", "Octopuses have blue blood.", "Sound travels 4x faster in water.", "Diamond is the hardest material.", "Earth core is hot as the Sun.", "Blood cycle takes 60s.", "Liquid oxygen is blue.", "Helium is hard to solidify.", "Milky Way is 100k LY wide.", "Neutron stars are dense.", "Bananas are radioactive.", "DNA is flame retardant.", "Rats can laugh.", "Ants have no lungs.", "Venus day > Venus year.", "Sharks > Trees.", "Moonquakes exist.", "Hot water freezes faster.", "Cows have best friends.", "Lightning toasts bread.", "Otters hold hands.", "Polar bear skin is black.", "Eiffel Tower grows in summer.", "Teeth are strong.", "Jellyfish is 95% water.", "Ostrich eye > brain.", "Turtles breathe through butts.", "Koalas have fingerprints.", "Flamingo group: Flamboyance.", "Butterflies taste with feet.", "Sloths hold breath 40 mins.", "Circulatory system: 60k miles.", "Nose knows 50k scents.", "Brain uses 20% energy.", "Apples float (25% air).", "Mars has blue sunsets.", "More trees than stars.", "Cloud weighs 1M pounds.", "Sneeze: 100mph.", "Elephants can't jump.", "Tongue: Strong muscle.", "Shrimp heart in head.", "Great Wall: Not seen from space."
    ];

    const answers = { pro: "H2O", master: "Diamond", elite: "-273.15C", ruby: "Mars", emerald: "Emerald", gold: "Hydrogen" };

    function handleLogin() {
        const i = document.getElementById('username-input');
        if(i.value.length < 2) return;
        activeUser = i.value.trim().toUpperCase();
        document.getElementById('display-id').innerText = activeUser;
        document.getElementById('login-screen').style.display = 'none';
        loadGlossary();
    }

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    function nav(id, btn) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active-view');
        btn.classList.add('active');
        if(window.innerWidth <= 768) toggleSidebar();
    }

    function loadGlossary() {
        const b = document.getElementById('glos-box'); b.innerHTML = "";
        facts.forEach((f, i) => b.innerHTML += `<div class="glass-panel" style="padding:15px; margin-bottom:10px; border-left:4px solid var(--primary);"><b>Fact #${i+1}:</b> ${f}</div>`);
    }

    function startQuiz(lvl, count) {
        curLvl = lvl; qIdx = 0; score = 0; maxQs = count;
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        document.getElementById('active-test-name').innerText = lvl + " SEQUENCE";
        showQ();
    }

    function showQ() {
        document.getElementById('q-progress').innerText = `${qIdx+1}/${maxQs}`;
        document.getElementById('q-text').innerText = `Scientific Query for ${curLvl} Module?`;
        const o = document.getElementById('q-options'); o.innerHTML = "";
        const correct = answers[curLvl.toLowerCase()] || "Verified Data";
        [correct, "Invalid Data"].sort().forEach(opt => {
            const b = document.createElement('button'); b.className = "opt-btn"; b.innerText = opt;
            b.onclick = () => { if(opt === correct) score++; qIdx++; if(qIdx < maxQs) showQ(); else endQuiz(); };
            o.appendChild(b);
        });
    }

    function endQuiz() {
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-menu').style.display = 'block';
        if(score === maxQs) {
            totalWins++; document.getElementById('win-count').innerText = totalWins;
            document.getElementById('display-lvl').innerText = curLvl.toUpperCase();
            document.getElementById('t-' + curLvl.toLowerCase()).classList.add('trophy-unlocked');
            if(curLvl === 'Elite') document.getElementById('adv-ranks').style.display = 'block';
            confetti();
        } else alert("100% Accuracy Needed.");
    }

    function toggleAI() { const w = document.getElementById('ai-window'); w.style.display = w.style.display === 'flex' ? 'none' : 'flex'; }
    
    function askAI() {
        const i = document.getElementById('ai-input'); const q = i.value.trim().toLowerCase();
        if(!q) return; i.value = ""; addMsg(q, 'user-bub');
        let r = "Analyzing Database... No match.";

        if(q.match(/hi|hello|hey/)) r = "Hello Researcher! OMNI AI is ready.";
        if(q.includes("how are you")) r = "All systems functioning perfectly.";
        if(q.includes("answer")) r = "Check Facts 1-50 for all validated answers.";
        
        if(q === "unlock all") {
            document.getElementById('adv-ranks').style.display = 'block';
            document.getElementById('display-lvl').innerText = "GOLD_VERIFIED";
            document.querySelectorAll('.trophy-item').forEach(t => t.classList.add('trophy-unlocked'));
            r = "MASTER KEY ACCEPTED: All ranks and trophies unlocked.";
            confetti();
        }
        
        if(q === "nkb gf") {
            r = "üíñ [DECRYPTED]\nNhyira Karikari Bonsu recognized.\nYou are loved more than all science combined!\n‚Äî Caleb.";
            confetti();
        }

        setTimeout(() => addMsg(r, 'ai-bub'), 600);
    }

    function addMsg(t, c) {
        const chat = document.getElementById('ai-chat'); const d = document.createElement('div');
        d.className = `bubble ${c}`; d.innerText = t; chat.appendChild(d); chat.scrollTop = chat.scrollHeight;
    }
</script>
</body>
</html>
