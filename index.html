<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SkiLabs Academy | Research Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #6366f1; --accent: #0ea5e9; --gold: #f59e0b; --bg: #f8fafc; --panel: #ffffff; --border: #e2e8f0; --text: #1e293b; --subtext: #64748b; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: all 0.2s ease; }
        
        body { margin: 0; font-family: 'Space Grotesk', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Smooth Custom Scrollbar */
        #main::-webkit-scrollbar { width: 6px; }
        #main::-webkit-scrollbar-track { background: #f1f1f1; }
        #main::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        /* Screens */
        #login-screen { position: fixed; inset: 0; background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-card { background: white; padding: 35px; border-radius: 24px; border: 1px solid var(--border); box-shadow: 0 10px 25px rgba(0,0,0,0.05); text-align: center; width: 100%; max-width: 380px; }
        .login-input { width: 100%; padding: 15px; margin: 15px 0; border: 2px solid var(--border); border-radius: 12px; outline: none; font-size: 1rem; text-align: center; }

        /* Navigation */
        #menu-toggle { display: none; position: fixed; top: 15px; left: 15px; z-index: 1001; background: var(--primary); color: white; border: none; padding: 12px 18px; border-radius: 10px; cursor: pointer; font-weight: bold; }
        #sidebar { width: 260px; background: white; border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 30px 20px; flex-shrink: 0; z-index: 2000; position: relative; }
        #close-sidebar { position: absolute; top: 20px; right: 20px; color: var(--text); background: #f1f5f9; border: none; padding: 8px 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        .nav-btn { padding: 14px 20px; margin-bottom: 8px; border-radius: 12px; cursor: pointer; color: var(--subtext); border: none; background: none; text-align: left; width: 100%; font-size: 1rem; font-family: inherit; }
        .nav-btn.active { background: #eef2ff; color: var(--primary); font-weight: 700; }

        /* Dashboard & Layout */
        #main { flex-grow: 1; overflow-y: auto; padding: 30px; width: 100%; position: relative; scroll-behavior: smooth; }
        .view { display: none; max-width: 800px; margin: 0 auto; padding-bottom: 80px; }
        .active-view { display: block; }
        .glass-panel { background: white; border: 1px solid var(--border); border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .info-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f1f5f9; }

        /* Trophies */
        .trophy-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .trophy-item { background: #f8fafc; padding: 15px; border-radius: 15px; text-align: center; border: 2px solid #e2e8f0; opacity: 0.2; }
        .trophy-unlocked { opacity: 1; border-color: var(--gold); background: #fffcf0; transition: 0.5s; }

        /* Quiz Buttons */
        .opt-btn { width: 100%; text-align: left; padding: 16px; margin-bottom: 10px; background: #f8fafc; border: 1px solid var(--border); border-radius: 12px; cursor: pointer; color: var(--text); font-family: inherit; }
        .opt-btn:active { background: #e0e7ff; transform: scale(0.98); }

        /* AI Window */
        #ai-toggle { position: fixed; bottom: 25px; right: 25px; background: var(--primary); color: white; padding: 16px 24px; border-radius: 50px; border: none; font-weight: 900; z-index: 1000; box-shadow: 0 10px 20px rgba(99,102,241,0.3); }
        #ai-window { display: none; position: fixed; bottom: 95px; right: 20px; left: 20px; max-width: 380px; margin-left: auto; height: 60vh; background: white; border: 1px solid var(--border); border-radius: 24px; z-index: 1000; flex-direction: column; overflow: hidden; }
        #ai-chat { flex-grow: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; background: #fafbfc; }
        .bubble { padding: 10px 14px; border-radius: 15px; font-size: 0.9rem; max-width: 85%; }
        .ai-bub { background: white; align-self: flex-start; border: 1px solid var(--border); }
        .user-bub { background: var(--primary); color: white; align-self: flex-end; }

        @media (max-width: 768px) {
            #sidebar { position: fixed; left: -100%; height: 100%; transition: 0.4s; }
            #sidebar.open { left: 0; box-shadow: 15px 0 40px rgba(0,0,0,0.1); }
            #menu-toggle { display: block; }
            #main { padding-top: 80px; }
        }
    </style>
</head>
<body>

<button id="menu-toggle" onclick="toggleSidebar()">‚ò∞ MENU</button>

<div id="login-screen">
    <div class="login-card">
        <h1 style="font-family:'Outfit'; color:var(--primary); margin:0;">SkiLabs_</h1>
        <p style="color:var(--subtext);">Research Access Only</p>
        <input type="text" id="username-input" class="login-input" placeholder="Enter Name">
        <button class="nav-btn" style="background:var(--primary); color:white; text-align:center;" onclick="handleLogin()">AUTHENTICATE</button>
        <p style="font-size: 0.7rem; color: #94a3b8; margin-top: 25px; font-weight: bold;">MADE BY CALEB FIIFI ASARE</p>
    </div>
</div>

<nav id="sidebar">
    <button id="close-sidebar" onclick="toggleSidebar()">‚úï CLOSE</button>
    <div style="font-family:'Outfit'; font-weight:900; font-size:1.8rem; margin-bottom:40px; color:var(--primary); margin-top: 40px;">SkiLabs_</div>
    <button class="nav-btn active" onclick="nav('dash', this)">üè† Dashboard</button>
    <button class="nav-btn" onclick="nav('gauntlet', this)">‚öîÔ∏è Gauntlet</button>
    <button id="trophy-nav" class="nav-btn" onclick="nav('trophy', this)" style="display:none;">üèÜ Trophy Room</button>
    <button class="nav-btn" onclick="nav('glossary', this)">üìñ Database</button>
    <div style="margin-top: auto; font-size: 0.7rem; color: var(--subtext); text-align: center; padding: 20px 0; border-top: 1px solid #f1f5f9;">MADE BY CALEB FIIFI ASARE</div>
</nav>

<main id="main">
    <section id="dash" class="view active-view">
        <h1 style="font-family:'Outfit';">Lab Center</h1>
        <div class="glass-panel">
            <div class="info-row"><b>Researcher:</b> <span id="display-id">---</span></div>
            <div class="info-row"><b>Status:</b> <span id="display-lvl" style="color:var(--primary); font-weight:bold;">PROBATION</span></div>
            <div class="info-row"><b>Wins:</b> <span id="win-count" style="color:var(--gold); font-weight:bold;">0</span></div>
        </div>
        <div style="text-align: center; margin-top: 40px;">
            <p style="font-weight: bold; color: var(--subtext);">MADE BY CALEB FIIFI ASARE</p>
        </div>
    </section>

    <section id="gauntlet" class="view">
        <h1 style="font-family:'Outfit';">Gauntlet Modules</h1>
        <div class="glass-panel" id="quiz-menu">
            <button class="nav-btn" style="background:var(--primary); color:white; margin-bottom:12px;" onclick="startQuiz('Pro', 10)">PRO MODULE (10 Qs)</button>
            <button class="nav-btn" style="background:var(--accent); color:white; margin-bottom:12px;" onclick="startQuiz('Master', 10)">MASTER MODULE (10 Qs)</button>
            <button class="nav-btn" style="background:#475569; color:white;" onclick="startQuiz('Elite', 10)">ELITE MODULE (10 Qs)</button>
            
            <div id="advanced-ranks" style="display:none; margin-top:20px; border-top:2px solid #eee; padding-top:20px;">
                <button class="nav-btn" style="background:#e11d48; color:white; margin-bottom:12px;" onclick="startQuiz('Ruby', 10)">RUBY MODULE (10 Qs)</button>
                <button class="nav-btn" style="background:#10b981; color:white; margin-bottom:12px;" onclick="startQuiz('Emerald', 10)">EMERALD MODULE (10 Qs)</button>
                <button class="nav-btn" style="background:var(--gold); color:white;" onclick="startQuiz('Gold', 20)">FINAL GOLD SEQUENCE (20 Qs)</button>
            </div>
        </div>
        <div class="glass-panel" id="quiz-active" style="display:none;">
            <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-weight:bold; font-size:0.8rem;">
                <span id="active-test-name">TESTING</span>
                <span id="q-progress">0/0</span>
            </div>
            <h3 id="q-text" style="margin-bottom:25px;">...</h3>
            <div id="q-options"></div>
        </div>
    </section>

    <section id="trophy" class="view">
        <h1 style="font-family:'Outfit';">Trophy Room</h1>
        <div class="glass-panel">
            <div class="trophy-grid">
                <div id="t-pro" class="trophy-item">ü•â<br>Pro</div>
                <div id="t-master" class="trophy-item">ü•à<br>Master</div>
                <div id="t-elite" class="trophy-item">ü•á<br>Elite</div>
                <div id="t-ruby" class="trophy-item">üíé<br>Ruby</div>
                <div id="t-emerald" class="trophy-item">üü¢<br>Emerald</div>
                <div id="t-gold" class="trophy-item">üëë<br>Gold</div>
            </div>
        </div>
    </section>

    <section id="glossary" class="view">
        <h1 style="font-family:'Outfit';">The Deep (Facts 1-50)</h1>
        <div id="glos-box"></div>
    </section>
</main>

<button id="ai-toggle" onclick="toggleAI()">üß† OMNI AI</button>
<div id="ai-window">
    <div style="background:var(--primary); color:white; padding:15px; display:flex; justify-content:space-between; align-items:center;">
        <b>OMNI AI v3.0</b> <span onclick="toggleAI()" style="cursor:pointer;">‚úï</span>
    </div>
    <div id="ai-chat"></div>
    <div style="padding:10px; display:flex; gap:5px; border-top:1px solid #eee;">
        <input type="text" id="ai-input" placeholder="Say Hi to OMNI..." style="flex-grow:1; border:1px solid #ddd; border-radius:10px; padding:10px; outline:none;">
        <button onclick="askAI()" style="background:var(--primary); color:white; border:none; border-radius:10px; padding:0 15px;">‚û§</button>
    </div>
</div>

<script>
    let activeUser = "", curLvl = "", qIdx = 0, score = 0, totalWins = 0, maxQs = 0;

    const facts = [
        "Mitochondria is the powerhouse of the cell.", "Water expands when frozen.", "Venus rotates clockwise.", "Lightning is 5x hotter than the sun.", "Humans share 50% DNA with bananas.", "Light takes 8 mins from Sun to Earth.", "Honey never spoils.", "The heart beats 100k times daily.", "Octopuses have blue blood.", "Sound travels 4x faster in water.", "Diamond is the hardest natural material.", "Earth's core is hot as the Sun.", "Blood circuit takes 60 seconds.", "Oxygen is blue in liquid form.", "Helium can't be solidified easily.", "Milky Way is 100k light-years wide.", "Neutron stars are extremely dense.", "Bananas are radioactive.", "DNA is flame retardant.", "Rats can laugh.", "Ants have no lungs.", "Venus day is longer than its year.", "Sharks older than trees.", "Moon has quakes.", "Hot water freezes faster than cold.", "Cows have best friends.", "Lightning toasts 100k slices of bread.", "Sea otters hold hands.", "Polar bear skin is black.", "Eiffel Tower grows in summer.", "Human teeth are strong.", "Jellyfish is 95% water.", "Ostrich eye > brain.", "Turtles breathe through butts.", "Koalas have fingerprints.", "Flamingo group: Flamboyance.", "Butterflies taste with feet.", "Sloths hold breath 40 mins.", "Circulatory system: 60k miles.", "Nose remembers 50k scents.", "Brain uses 20% energy.", "Apples float (25% air).", "Mars has blue sunsets.", "More trees on Earth than stars.", "Cloud weighs 1M pounds.", "Sneeze speed: 100mph.", "Elephants can't jump.", "Tongue is the strongest muscle.", "Shrimp heart in head.", "Great Wall not visible from space."
    ];

    const answers = {
        pro: "H2O", master: "Diamond", elite: "-273.15C", ruby: "Mars", emerald: "Emerald", gold: "Hydrogen"
    };

    function handleLogin() {
        const i = document.getElementById('username-input');
        if(i.value.length < 2) return;
        activeUser = i.value.trim().toUpperCase();
        document.getElementById('display-id').innerText = activeUser;
        document.getElementById('login-screen').style.display = 'none';
        loadGlossary();
    }

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    function nav(id, btn) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active-view');
        btn.classList.add('active');
        if(window.innerWidth <= 768) toggleSidebar();
    }

    function loadGlossary() {
        const b = document.getElementById('glos-box'); b.innerHTML = "";
        facts.forEach((f, i) => b.innerHTML += `<div class="glass-panel" style="padding:15px; margin-bottom:10px; border-left:4px solid var(--primary);"><b>#${i+1}:</b> ${f}</div>`);
    }

    function startQuiz(lvl, count) {
        curLvl = lvl; qIdx = 0; score = 0; maxQs = count;
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        document.getElementById('active-test-name').innerText = lvl + " SEQUENCE";
        showQ();
    }

    function showQ() {
        document.getElementById('q-progress').innerText = `${qIdx+1}/${maxQs}`;
        document.getElementById('q-text').innerText = `What is the validated answer for the ${curLvl} Module? (Reference Database)`;
        const o = document.getElementById('q-options'); o.innerHTML = "";
        const correct = answers[curLvl.toLowerCase()] || "Verified Data";
        [correct, "Corrupted File"].sort().forEach(opt => {
            const b = document.createElement('button'); b.className = "opt-btn"; b.innerText = opt;
            b.onclick = () => { if(opt === correct) score++; qIdx++; if(qIdx < maxQs) showQ(); else endQuiz(); };
            o.appendChild(b);
        });
    }

    function endQuiz() {
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-menu').style.display = 'block';
        if(score === maxQs) {
            totalWins++; document.getElementById('win-count').innerText = totalWins;
            document.getElementById('display-lvl').innerText = curLvl.toUpperCase();
            document.getElementById('t-' + curLvl.toLowerCase()).classList.add('trophy-unlocked');
            if(curLvl === 'Elite') { 
                document.getElementById('advanced-ranks').style.display = 'block';
                document.getElementById('trophy-nav').style.display = 'block';
            }
            confetti();
        } else { alert("Error: 100% accuracy required to pass."); }
    }

    function toggleAI() { const w = document.getElementById('ai-window'); w.style.display = w.style.display === 'flex' ? 'none' : 'flex'; }
    
    function askAI() {
        const i = document.getElementById('ai-input'); const q = i.value.trim().toLowerCase();
        if(!q) return; i.value = ""; addMsg(q, 'user-bub');
        let r = "Scanning database... No match found.";

        if(q.match(/hi|hello|hey/)) r = "Greetings, Researcher. OMNI AI is online.";
        if(q.includes("how are you")) r = "Systems are nominal. How can I help your research?";
        if(q.includes("mitochondria")) r = "It is the powerhouse of the cell.";
        if(q.includes("pro answer")) r = "The Pro Module answer is H2O.";
        if(q.includes("master answer")) r = "The Master Module answer is Diamond.";
        if(q.includes("elite answer")) r = "The Elite Module answer is -273.15C.";
        if(q.includes("ruby answer")) r = "The Ruby answer is Mars.";
        if(q.includes("emerald answer")) r = "The Emerald answer is Emerald.";
        if(q.includes("gold answer")) r = "The Gold sequence answer is Hydrogen.";
        if(q.includes("fact") || q.includes("tell me something")) r = facts[Math.floor(Math.random()*facts.length)];

        if(q === "unlock all") {
            document.getElementById('advanced-ranks').style.display = 'block';
            document.getElementById('trophy-nav').style.display = 'block';
            document.getElementById('display-lvl').innerText = "GOLD_VERIFIED";
            document.querySelectorAll('.trophy-item').forEach(t => t.classList.add('trophy-unlocked'));
            r = "MASTER OVERRIDE: All modules unlocked. Gold clearance granted.";
            confetti();
        }

        if(q === "nkb gf") {
            r = "üíñ [DECRYPTED]\nNhyira Karikari Bonsu recognized.\nYou are loved more than all science combined!\n‚Äî Caleb.";
            confetti();
        }
        
        setTimeout(() => addMsg(r, 'ai-bub'), 600);
    }

    function addMsg(t, c) {
        const chat = document.getElementById('ai-chat'); const d = document.createElement('div');
        d.className = `bubble ${c}`; d.innerText = t; chat.appendChild(d); chat.scrollTop = chat.scrollHeight;
    }
</script>
</body>
</html>
